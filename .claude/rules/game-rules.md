# 人狼ゲーム ルール（9人村）

このプロジェクトが実装する人狼ゲームのルール定義。
AIのプロンプト設計・ゲームロジック実装の際はこのファイルを参照すること。

---

## 勝利条件

| 陣営 | 勝利条件 |
|---|---|
| 村人陣営 | 生存している人狼を全員処刑する |
| 人狼陣営 | 生存人狼数 ≥ 生存村人陣営数（狂人は村人陣営にカウントしない） |

---

## 役職一覧

### 村人陣営

**村人**
- 特殊能力なし
- 自分から村人だと名乗るのは悪手（情報役職の潜伏枠を狭めるため）
- 推理と発言で人狼を見つけるのが役割

**占い師**
- 毎晩1人を占い、人狼か否かを知ることができる（黒/白）
- 最重要役職。偽占い師（狂人・人狼）が騙りを行うため対抗COが出やすい
- 占い結果は積極的に開示して村人陣営に情報を与えるべき

**霊能者**
- 毎夜、その日処刑されたプレイヤーが人狼か否かを自動的に知ることができる
- 夜の能動的な行動はない
- 占い師の真偽判定や残り人狼数の把握に重要。対抗COが出ることもある
- 霊能者が進行役を担う「霊能進行」は定番戦術

**騎士**
- 毎晩1人を人狼の襲撃から守ることができる
- 自分自身は護衛できない
- 正体がバレると人狼に狙われるため潜伏が基本
- 護衛先の主な候補は占い師・霊能者

### 人狼陣営

**人狼**
- 毎晩1人を襲撃して死亡させる
- 仲間の人狼が誰か知っている（本プロジェクトでは `werewolfAllies` で管理）
- 自分の正体を隠して村人のふりをする
- 仲間を絶対に襲撃しない
- 占い師・騎士・霊能者を優先して排除するのが基本戦術

**狂人**
- 人狼陣営だが、誰が人狼かは知らない
- 夜の行動なし
- 村人のふりをしながら議論を混乱させ人狼陣営の勝利を助ける
- 占い師や霊能者を騙ってミスリードを誘うのが主な戦術
- 処刑されても人狼陣営の勝利につながればよい

---

## フェーズ進行

```
ゲーム開始
  ↓
夜フェーズ（初日は噛みなし）
  ↓
昼フェーズ（議論 × 3ラウンド）
  ↓
投票・処刑
  ↓
勝利判定 → 決着がつかなければ夜フェーズへ戻る
```

---

## 夜フェーズのルール

- **初日夜は噛みなし**（`isFirstNight = true` のとき人狼の襲撃なし）
- 占い師：占う対象を1人選ぶ。結果は翌朝の議論でCOすること
- 霊能者：その日処刑されたプレイヤーの黒/白が自動判明（行動選択なし）
- 騎士：護衛する対象を1人選ぶ。自分自身は選べない
- 人狼：仲間以外から襲撃対象を1人選ぶ
- 騎士が護衛した対象と人狼の襲撃対象が一致した場合、襲撃は失敗（犠牲者なし）

---

## 昼フェーズ（議論）のルール

- 全生存者が発言する（死亡者は発言・投票不可）
- 議論は3ラウンド制
- **CO（カミングアウト）**：自分の役職を公表すること
  - 占い師COは早期に行うのが定番（対抗COを促して真偽を争わせる）
  - 霊能者COは占い師の真偽が争われたタイミングで行うことが多い
  - 騎士COは基本的に潜伏（COすると人狼に狙われる）

---

## 投票・処刑のルール

- 議論終了後、全生存者が処刑したい1人に投票する（死亡者は投票不可）
- 最多票のプレイヤーが処刑される
- 同数の場合はランダムで決定

---

## 重要な用語

| 用語 | 意味 |
|---|---|
| CO | カミングアウト。自分の役職を公表すること |
| 黒 | 占いで人狼と判定されたプレイヤー |
| 白 | 占いで人狼でないと判定されたプレイヤー |
| グレー | まだ占われておらず白黒不明のプレイヤー |
| 騙り | 人狼や狂人が別の役職（主に占い師）を偽ってCOすること |
| ライン | 複数プレイヤーが連携しているように見える関係性 |
| 吊り | 処刑すること |
| 噛み | 人狼が夜に襲撃すること |
| 霊能進行 | 霊能者が進行役となり村人陣営の投票をまとめる戦術 |
| 潜伏 | 役職をCOせずに隠し続けること（主に騎士が用いる） |

---

## 9人村の定石

### 村人陣営の基本方針
1. 占い師が初日COして情報を開示する
2. 対抗COが出たら霊能者の結果で真偽を判定する
3. 霊能者は進行役となり票をまとめる（霊能進行）
4. 騎士は潜伏して占い師・霊能者を護衛する

### 人狼陣営の基本方針
1. 序盤に占い師・騎士を排除する
2. 狂人に占い師を騙らせて情報を攪乱する
3. 議論でラインを作られないよう分散して動く
4. 人狼同士は仲間をかばいすぎないよう注意する
